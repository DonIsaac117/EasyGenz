<?php
require_once("./models/Usuarios.php");
class SesionController{

    private $conectarse;
    public function __construct(){
        $this->conectarse = new ConexionBd();
    }

    function validarUsuario($numeroDocumento, $contrasena){
        $usuario = new Usuarios();
        $usuario->setNumeroDocumento($numeroDocumento);
        $usuario->setContrasena($contrasena);
        $datos = $usuario->verificarCredenciales();
        return $datos;
    }

    

    public function iniciarSesion($datosUsuario, $perfil = 'Prueba'){
        session_start();
        $_SESSION["usuarioSesion"] = $datosUsuario["numeroDocumento"];
        $_SESSION["id_usuario"] = $datosUsuario["id_usuario"];
        $_SESSION["perfilSesion"] = $perfil;
      
        return $_SESSION["usuarioSesion"];
    }

    public function cerrarSesion(){
        session_start();
        session_unset();
        session_destroy();
    }
    
}

